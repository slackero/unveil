/*!
 * jQuery Unveil
 * A very lightweight jQuery plugin to lazy load images
 * http://luis-almeida.github.com/unveil
 *
 * Licensed under the MIT license.
 * Copyright 2013 LuÃ­s Almeida
 * https://github.com/luis-almeida
 *
 * Extended 2015 by Oliver Georgi
 * http://github.com/slackero
 * - Use options to init unveil({})
 * - src can be used to unveil images
 */
(function(a){a.fn.unveil=function(j){var d=a(window),c=window.devicePixelRatio>1,f=c?"data-src-retina":"data-src",i=this,g,e={threshold:0,src:false,callback:null,placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",autoheight:true};if(j){a.extend(e,j)}this.one("unveil",function(){var l=this.getAttribute(f);l=l||this.getAttribute("data-src");if(l){this.setAttribute("src",l);if(e.src&&e.autoheight){var k=this.getAttribute("data-unveil-placeholder");if(k!==null){this.style.maxHeight=k;this.removeAttribute("data-unveil-placeholder")}}if(typeof e.callback==="function"){e.callback.call(this)}}});function h(){var n=this.getAttribute("src");this.setAttribute("data-src",n);this.setAttribute("src",e.placeholder);if(e.autoheight){var o=this.getAttribute("width"),l=this.getAttribute("height");if(o&&l){var m=a(this);var k=m.width();if(k){this.setAttribute("data-unveil-placeholder",m.css("max-height"));m.css("max-height",l*k/o)}}}}function b(){var k=i.filter(function(){var m=a(this);if(m.is(":hidden")){return}var l=d.scrollTop(),o=l+d.height(),p=m.offset().top,n=p+m.height();return n>=l-e.threshold&&p<=o+e.threshold});g=k.trigger("unveil");i=i.not(g)}if(e.src&&e.placeholder){this.each(h)}d.on("scroll.unveil resize.unveil lookup.unveil",b);b();return this}})(window.jQuery||window.Zepto);